!function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var i={};e(i),t.bodyScrollLock=i}}(this,(function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=!1;if("undefined"!=typeof window){var n={get passive(){i=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}function o(t){return l.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))}function r(t){var e=t||window.event;return!!o(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)}function s(){setTimeout((function(){void 0!==d&&(document.body.style.paddingRight=d,d=void 0),void 0!==h&&(document.body.style.overflow=h,h=void 0)}))}var a="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),l=[],c=!1,u=-1,h=void 0,d=void 0;t.disableBodyScroll=function(t,n){if(a){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!l.some((function(e){return e.targetElement===t}))){var s={targetElement:t,options:n||{}};l=[].concat(e(l),[s]),t.ontouchstart=function(t){1===t.targetTouches.length&&(u=t.targetTouches[0].clientY)},t.ontouchmove=function(e){var i,n,s,a;1===e.targetTouches.length&&(n=t,a=(i=e).targetTouches[0].clientY-u,o(i.target)||(n&&0===n.scrollTop&&0<a||(s=n)&&s.scrollHeight-s.scrollTop<=s.clientHeight&&a<0?r(i):i.stopPropagation()))},c||(document.addEventListener("touchmove",r,i?{passive:!1}:void 0),c=!0)}}else{m=n,setTimeout((function(){if(void 0===d){var t=!!m&&!0===m.reserveScrollBarGap,e=window.innerWidth-document.documentElement.clientWidth;t&&0<e&&(d=document.body.style.paddingRight,document.body.style.paddingRight=e+"px")}void 0===h&&(h=document.body.style.overflow,document.body.style.overflow="hidden")}));var f={targetElement:t,options:n||{}};l=[].concat(e(l),[f])}var m},t.clearAllBodyScrollLocks=function(){a?(l.forEach((function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null})),c&&(document.removeEventListener("touchmove",r,i?{passive:!1}:void 0),c=!1),l=[],u=-1):(s(),l=[])},t.enableBodyScroll=function(t){if(a){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,l=l.filter((function(e){return e.targetElement!==t})),c&&0===l.length&&(document.removeEventListener("touchmove",r,i?{passive:!1}:void 0),c=!1)}else(l=l.filter((function(e){return e.targetElement!==t}))).length||s()}})),function(t){var e=function(t,e,i){"use strict";var n,o;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in o=t.lazySizesConfig||t.lazysizesConfig||{},i)e in o||(o[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var r=e.documentElement,s=t.HTMLPictureElement,a="addEventListener",l="getAttribute",c=t[a].bind(t),u=t.setTimeout,h=t.requestAnimationFrame||u,d=t.requestIdleCallback,f=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],p={},v=Array.prototype.forEach,y=function(t,e){return p[e]||(p[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),p[e].test(t[l]("class")||"")&&p[e]},g=function(t,e){y(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},b=function(t,e){var i;(i=y(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(i," "))},w=function(t,e,i){var n=i?a:"removeEventListener";i&&w(t,e),m.forEach((function(i){t[n](i,e)}))},C=function(t,i,o,r,s){var a=e.createEvent("Event");return o||(o={}),o.instance=n,a.initEvent(i,!r,!s),a.detail=o,t.dispatchEvent(a),a},Y=function(e,i){var n;!s&&(n=t.picturefill||o.pf)?(i&&i.src&&!e[l]("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},X=function(t,e){return(getComputedStyle(t,null)||{})[e]},T=function(t,e,i){for(i=i||t.offsetWidth;i<o.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},E=function(){var t,i,n=[],o=[],r=n,s=function(){var e=r;for(r=n.length?o:n,t=!0,i=!1;e.length;)e.shift()();t=!1},a=function(n,o){t&&!o?n.apply(this,arguments):(r.push(n),i||(i=!0,(e.hidden?u:h)(s)))};return a._lsFlush=s,a}(),k=function(t,e){return e?function(){E(t)}:function(){var e=this,i=arguments;E((function(){t.apply(e,i)}))}},z=function(t){var e,n=0,r=o.throttleDelay,s=o.ricTimeout,a=function(){e=!1,n=i.now(),t()},l=d&&s>49?function(){d(a,{timeout:s}),s!==o.ricTimeout&&(s=o.ricTimeout)}:k((function(){u(a)}),!0);return function(t){var o;(t=!0===t)&&(s=33),e||(e=!0,(o=r-(i.now()-n))<0&&(o=0),t||o<9?l():u(l,o))}},S=function(t){var e,n,o=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?u(r,99-t):(d||o)(o)};return function(){n=i.now(),e||(e=u(r,99))}},x=function(){var s,d,m,p,T,x,A,O,R,D,P,j,L=/^img$/i,W=/^iframe$/i,F="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),_=0,N=0,B=-1,H=function(t){N--,(!t||N<0||!t.target)&&(N=0)},I=function(t){return null==j&&(j="hidden"==X(e.body,"visibility")),j||!("hidden"==X(t.parentNode,"visibility")&&"hidden"==X(t,"visibility"))},q=function(t,i){var n,o=t,s=I(t);for(O-=i,P+=i,R-=i,D+=i;s&&(o=o.offsetParent)&&o!=e.body&&o!=r;)(s=(X(o,"opacity")||1)>0)&&"visible"!=X(o,"overflow")&&(n=o.getBoundingClientRect(),s=D>n.left&&R<n.right&&P>n.top-1&&O<n.bottom+1);return s},U=function(){var t,i,a,c,u,h,f,m,v,y,g,b,w=n.elements;if((p=o.loadMode)&&N<8&&(t=w.length)){for(i=0,B++;i<t;i++)if(w[i]&&!w[i]._lazyRace)if(!F||n.prematureUnveil&&n.prematureUnveil(w[i]))Z(w[i]);else if((m=w[i][l]("data-expand"))&&(h=1*m)||(h=_),y||(y=!o.expand||o.expand<1?r.clientHeight>500&&r.clientWidth>500?500:370:o.expand,n._defEx=y,g=y*o.expFactor,b=o.hFac,j=null,_<g&&N<1&&B>2&&p>2&&!e.hidden?(_=g,B=0):_=p>1&&B>1&&N<6?y:0),v!==h&&(x=innerWidth+h*b,A=innerHeight+h,f=-1*h,v=h),a=w[i].getBoundingClientRect(),(P=a.bottom)>=f&&(O=a.top)<=A&&(D=a.right)>=f*b&&(R=a.left)<=x&&(P||D||R||O)&&(o.loadHidden||I(w[i]))&&(d&&N<3&&!m&&(p<3||B<4)||q(w[i],h))){if(Z(w[i]),u=!0,N>9)break}else!u&&d&&!c&&N<4&&B<4&&p>2&&(s[0]||o.preloadAfterLoad)&&(s[0]||!m&&(P||D||R||O||"auto"!=w[i][l](o.sizesAttr)))&&(c=s[0]||w[i]);c&&!u&&Z(c)}},$=z(U),G=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(H(t),g(e,o.loadedClass),b(e,o.loadingClass),w(e,J),C(e,"lazyloaded"))},V=k(G),J=function(t){V({target:t.target})},Q=function(t){var e,i=t[l](o.srcsetAttr);(e=o.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},K=k((function(t,e,i,n,r){var s,a,c,h,d,p;(d=C(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?g(t,o.autosizesClass):t.setAttribute("sizes",n)),a=t[l](o.srcsetAttr),s=t[l](o.srcAttr),r&&(h=(c=t.parentNode)&&f.test(c.nodeName||"")),p=e.firesLoad||"src"in t&&(a||s||h),d={target:t},g(t,o.loadingClass),p&&(clearTimeout(m),m=u(H,2500),w(t,J,!0)),h&&v.call(c.getElementsByTagName("source"),Q),a?t.setAttribute("srcset",a):s&&!h&&(W.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}}(t,s):t.src=s),r&&(a||h)&&Y(t,{src:s})),t._lazyRace&&delete t._lazyRace,b(t,o.lazyClass),E((function(){var e=t.complete&&t.naturalWidth>1;p&&!e||(e&&g(t,"ls-is-cached"),G(d),t._lazyCache=!0,u((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&N--}),!0)})),Z=function(t){if(!t._lazyRace){var e,i=L.test(t.nodeName),n=i&&(t[l](o.sizesAttr)||t[l]("sizes")),r="auto"==n;(!r&&d||!i||!t[l]("src")&&!t.srcset||t.complete||y(t,o.errorClass)||!y(t,o.lazyClass))&&(e=C(t,"lazyunveilread").detail,r&&M.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,N++,K(t,e,r,n,i))}},tt=S((function(){o.loadMode=3,$()})),et=function(){3==o.loadMode&&(o.loadMode=2),tt()},it=function(){d||(i.now()-T<999?u(it,999):(d=!0,o.loadMode=3,$(),c("scroll",et,!0)))};return{_:function(){T=i.now(),n.elements=e.getElementsByClassName(o.lazyClass),s=e.getElementsByClassName(o.lazyClass+" "+o.preloadClass),c("scroll",$,!0),c("resize",$,!0),c("pageshow",(function(t){if(t.persisted){var i=e.querySelectorAll("."+o.loadingClass);i.length&&i.forEach&&h((function(){i.forEach((function(t){t.complete&&Z(t)}))}))}})),t.MutationObserver?new MutationObserver($).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",$,!0),r[a]("DOMAttrModified",$,!0),setInterval($,999)),c("hashchange",$,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){e[a](t,$,!0)})),/d$|^c/.test(e.readyState)?it():(c("load",it),e[a]("DOMContentLoaded",$),u(it,2e4)),n.elements.length?(U(),E._lsFlush()):$()},checkElems:$,unveil:Z,_aLSL:et}}(),M=function(){var t,i=k((function(t,e,i,n){var o,r,s;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),f.test(e.nodeName||""))for(r=0,s=(o=e.getElementsByTagName("source")).length;r<s;r++)o[r].setAttribute("sizes",n);i.detail.dataAttr||Y(t,i.detail)})),n=function(t,e,n){var o,r=t.parentNode;r&&(n=T(t,r,n),(o=C(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=o.detail.width)&&n!==t._lazysizesWidth&&i(t,r,o,n))},r=S((function(){var e,i=t.length;if(i)for(e=0;e<i;e++)n(t[e])}));return{_:function(){t=e.getElementsByClassName(o.autosizesClass),c("resize",r)},checkElems:r,updateElem:n}}(),A=function(){!A.i&&e.getElementsByClassName&&(A.i=!0,M._(),x._())};return u((function(){o.init&&A()})),n={cfg:o,autoSizer:M,loader:x,init:A,uP:Y,aC:g,rC:b,hC:y,fire:C,gW:T,rAF:E}}(t,t.document,Date);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}("undefined"!=typeof window?window:{});
/*! npm.im/object-fit-images 3.2.4 */
var objectFitImages=function(){"use strict";function t(t,e,i){var n=function(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}(e||1,i||0);d.call(t,"src")!==n&&f.call(t,"src",n)}function e(t,i){t.naturalWidth?i(t):setTimeout(e,100,t,i)}function i(i){var o=function(t){for(var e,i=getComputedStyle(t).fontFamily,n={};null!==(e=s.exec(i));)n[e[1]]=e[2];return n}(i),a=i[r];if(o["object-fit"]=o["object-fit"]||"fill",!a.img){if("fill"===o["object-fit"])return;if(!a.skipTest&&l&&!o["object-position"])return}if(!a.img){a.img=new Image(i.width,i.height),a.img.srcset=d.call(i,"data-ofi-srcset")||i.srcset,a.img.src=d.call(i,"data-ofi-src")||i.src,f.call(i,"data-ofi-src",i.src),i.srcset&&f.call(i,"data-ofi-srcset",i.srcset),t(i,i.naturalWidth||i.width,i.naturalHeight||i.height),i.srcset&&(i.srcset="");try{n(i)}catch(i){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}(function(t){if(t.srcset&&!h&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}})(a.img),i.style.backgroundImage='url("'+(a.img.currentSrc||a.img.src).replace(/"/g,'\\"')+'")',i.style.backgroundPosition=o["object-position"]||"center",i.style.backgroundRepeat="no-repeat",i.style.backgroundOrigin="content-box",/scale-down/.test(o["object-fit"])?e(a.img,(function(){a.img.naturalWidth>i.width||a.img.naturalHeight>i.height?i.style.backgroundSize="contain":i.style.backgroundSize="auto"})):i.style.backgroundSize=o["object-fit"].replace("none","auto").replace("fill","100% 100%"),e(a.img,(function(e){t(i,e.naturalWidth,e.naturalHeight)}))}function n(t){var e={get:function(e){return t[r].img[e||"src"]},set:function(e,n){return t[r].img[n||"src"]=e,f.call(t,"data-ofi-"+n,e),i(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}function o(t,e){var n=!m&&!t;if(e=e||{},t=t||"img",c&&!e.skipTest||!u)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var s=0;s<t.length;s++)t[s][r]=t[s][r]||{skipTest:e.skipTest},i(t[s]);n&&(document.body.addEventListener("load",(function(t){"IMG"===t.target.tagName&&o(t.target,{skipTest:e.skipTest})}),!0),m=!0,t="img"),e.watchMQ&&window.addEventListener("resize",o.bind(null,t,{skipTest:e.skipTest}))}var r="bfred-it:object-fit-images",s=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,a="undefined"==typeof Image?{style:{"object-position":1}}:new Image,l="object-fit"in a.style,c="object-position"in a.style,u="background-size"in a.style,h="string"==typeof a.currentSrc,d=a.getAttribute,f=a.setAttribute,m=!1;return o.supportsObjectFit=l,o.supportsObjectPosition=c,function(){function t(t,e){return t[r]&&t[r].img&&("src"===e||"srcset"===e)?t[r].img:t}c||(HTMLImageElement.prototype.getAttribute=function(e){return d.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,i){return f.call(t(this,e),e,String(i))})}(),o}();!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Parallax=t()}((function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,(function(t){return o(e[s][1][t]||t)}),u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,l=n(t),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))r.call(i,u)&&(l[u]=i[u]);if(o){a=o(i);for(var h=0;h<a.length;h++)s.call(i,a[h])&&(l[a[h]]=i[a[h]])}}return l}},{}],2:[function(t,e,i){(function(t){(function(){var i,n,o,r,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(i()-s)/1e6},n=t.hrtime,r=(i=function(){var t;return 1e9*(t=n())[0]+t[1]})(),a=1e9*t.uptime(),s=r-a):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:3}],3:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function s(){p&&f&&(p=!1,f.length?m=f.concat(m):v=-1,m.length&&a())}function a(){if(!p){var t=r(s);p=!0;for(var e=m.length;e;){for(f=m,m=[];++v<e;)f&&f[v].run();v=-1,e=m.length}f=null,p=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,h,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(t){h=o}}();var f,m=[],p=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new l(t,e)),1!==m.length||p||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],4:[function(t,e,i){(function(i){for(var n=t("performance-now"),o="undefined"==typeof window?i:window,r=["moz","webkit"],s="AnimationFrame",a=o["request"+s],l=o["cancel"+s]||o["cancelRequest"+s],c=0;!a&&c<r.length;c++)a=o[r[c]+"Request"+s],l=o[r[c]+"Cancel"+s]||o[r[c]+"CancelRequest"+s];if(!a||!l){var u=0,h=0,d=[];a=function(t){if(0===d.length){var e=n(),i=Math.max(0,1e3/60-(e-u));u=i+e,setTimeout((function(){var t=d.slice(0);d.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(i))}return d.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<d.length;e++)d[e].handle===t&&(d[e].cancelled=!0)}}e.exports=function(t){return a.call(o,t)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=a,o.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("raf"),r=t("object-assign"),s={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},data:function(t,e){return s.deserialize(t.getAttribute("data-"+e))},deserialize:function(t){return"true"===t||"false"!==t&&("null"===t?null:!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(t):t)},camelCase:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},accelerate:function(t){s.css(t,"transform","translate3d(0,0,0) rotate(0.0001deg)"),s.css(t,"transform-style","preserve-3d"),s.css(t,"backface-visibility","hidden")},transformSupport:function(t){for(var e=document.createElement("div"),i=!1,n=null,o=!1,r=null,a=null,l=0,c=s.vendors.length;l<c;l++)if(null!==s.vendors[l]?(r=s.vendors[l][0]+"transform",a=s.vendors[l][1]+"Transform"):(r="transform",a="transform"),void 0!==e.style[a]){i=!0;break}switch(t){case"2D":o=i;break;case"3D":if(i){var u=document.body||document.createElement("body"),h=document.documentElement,d=h.style.overflow,f=!1;document.body||(f=!0,h.style.overflow="hidden",h.appendChild(u),u.style.overflow="hidden",u.style.background=""),u.appendChild(e),e.style[a]="translate3d(1px,1px,1px)",o=void 0!==(n=window.getComputedStyle(e).getPropertyValue(r))&&n.length>0&&"none"!==n,h.style.overflow=d,u.removeChild(e),f&&(u.removeAttribute("style"),u.parentNode.removeChild(u))}}return o},css:function(t,e,i){var n=s.propertyCache[e];if(!n)for(var o=0,r=s.vendors.length;o<r;o++)if(n=null!==s.vendors[o]?s.camelCase(s.vendors[o][1]+"-"+e):e,void 0!==t.style[n]){s.propertyCache[e]=n;break}t.style[n]=i}},a={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},l=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.element=e;var n={calibrateX:s.data(this.element,"calibrate-x"),calibrateY:s.data(this.element,"calibrate-y"),invertX:s.data(this.element,"invert-x"),invertY:s.data(this.element,"invert-y"),limitX:s.data(this.element,"limit-x"),limitY:s.data(this.element,"limit-y"),scalarX:s.data(this.element,"scalar-x"),scalarY:s.data(this.element,"scalar-y"),frictionX:s.data(this.element,"friction-x"),frictionY:s.data(this.element,"friction-y"),originX:s.data(this.element,"origin-x"),originY:s.data(this.element,"origin-y"),pointerEvents:s.data(this.element,"pointer-events"),precision:s.data(this.element,"precision"),relativeInput:s.data(this.element,"relative-input"),clipRelativeInput:s.data(this.element,"clip-relative-input"),hoverOnly:s.data(this.element,"hover-only"),inputElement:document.querySelector(s.data(this.element,"input-element")),selector:s.data(this.element,"selector")};for(var o in n)null===n[o]&&delete n[o];r(this,a,n,i),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return n(t,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=s.transformSupport("2D"),this.transform3DSupport=s.transformSupport("3D")),this.transform3DSupport&&s.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var t=0;t<this.layers.length;t++){var e=this.layers[t];this.transform3DSupport&&s.accelerate(e),e.style.position=t?"absolute":"relative",e.style.display="block",e.style.left=0,e.style.top=0;var i=s.data(e,"depth")||0;this.depthsX.push(s.data(e,"depth-x")||i),this.depthsY.push(s.data(e,"depth-y")||i)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(t){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,t)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=o(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),o.cancel(this.raf))}},{key:"calibrate",value:function(t,e){this.calibrateX=void 0===t?this.calibrateX:t,this.calibrateY=void 0===e?this.calibrateY:e}},{key:"invert",value:function(t,e){this.invertX=void 0===t?this.invertX:t,this.invertY=void 0===e?this.invertY:e}},{key:"friction",value:function(t,e){this.frictionX=void 0===t?this.frictionX:t,this.frictionY=void 0===e?this.frictionY:e}},{key:"scalar",value:function(t,e){this.scalarX=void 0===t?this.scalarX:t,this.scalarY=void 0===e?this.scalarY:e}},{key:"limit",value:function(t,e){this.limitX=void 0===t?this.limitX:t,this.limitY=void 0===e?this.limitY:e}},{key:"origin",value:function(t,e){this.originX=void 0===t?this.originX:t,this.originY=void 0===e?this.originY:e}},{key:"setInputElement",value:function(t){this.inputElement=t,this.updateDimensions()}},{key:"setPosition",value:function(t,e,i){e=e.toFixed(this.precision)+"px",i=i.toFixed(this.precision)+"px",this.transform3DSupport?s.css(t,"transform","translate3d("+e+","+i+",0)"):this.transform2DSupport?s.css(t,"transform","translate("+e+","+i+")"):(t.style.left=e,t.style.top=i)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var t=this.inputX-this.calibrationX,e=this.inputY-this.calibrationY;(Math.abs(t)>this.calibrationThreshold||Math.abs(e)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?e:this.inputY,this.motionY=this.calibrateY?t:this.inputX):(this.motionX=this.calibrateX?t:this.inputX,this.motionY=this.calibrateY?e:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=s.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=s.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var i=0;i<this.layers.length;i++){var n=this.layers[i],r=this.depthsX[i],a=this.depthsY[i],l=this.velocityX*(r*(this.invertX?-1:1)),c=this.velocityY*(a*(this.invertY?-1:1));this.setPosition(n,l,c)}this.raf=o(this.onAnimationFrame)}},{key:"rotate",value:function(t,e){var i=(t||0)/30,n=(e||0)/30,o=this.windowHeight>this.windowWidth;this.portrait!==o&&(this.portrait=o,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=i,this.calibrationY=n),this.inputX=i,this.inputY=n}},{key:"onDeviceOrientation",value:function(t){var e=t.beta,i=t.gamma;null!==e&&null!==i&&(this.orientationStatus=1,this.rotate(e,i))}},{key:"onDeviceMotion",value:function(t){var e=t.rotationRate.beta,i=t.rotationRate.gamma;null!==e&&null!==i&&(this.motionStatus=1,this.rotate(e,i))}},{key:"onMouseMove",value:function(t){var e=t.clientX,i=t.clientY;if(this.hoverOnly&&(e<this.elementPositionX||e>this.elementPositionX+this.elementWidth||i<this.elementPositionY||i>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(e=Math.max(e,this.elementPositionX),e=Math.min(e,this.elementPositionX+this.elementWidth),i=Math.max(i,this.elementPositionY),i=Math.min(i,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(e-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(i-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(e-this.windowCenterX)/this.windowRadiusX,this.inputY=(i-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var t=0;t<this.layers.length;t++)this.layers[t].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),t}();e.exports=l},{"object-assign":1,raf:4}]},{},[5])(5)}));